import { AnimateIn } from "@/components/animation";
import { AppContainer, AppHeader, AppLayout } from "@/components/app-layout";

import { MailingListFormSkeleteon, MailingListFrom } from "@/components/forms/mailing-list";
import { Mark } from "@/components/logo";
import { MailingSuccessModal } from "@/components/modals/mailing-success-modal";
import { cn } from "@/lib/cn";
import { Icon } from "@/ui/icon";
import { MenuBar } from "@/ui/menubar";
import { Suspense } from "react";

function InlineIcon({ className, children, paths }: { className?: string; children: React.ReactNode; paths: React.ReactNode }) {
  return (
    <span className={cn("whitespace-pre", className)}>
      <Icon className="inline-flex size-[1em]" aria-hidden>
        {paths}
      </Icon>{" "}
      {children}
    </span>
  );
}

export default async function HomePage() {
  return (
    <AppLayout>
      <MenuBar />
      <AppHeader />
      <AppContainer className="prose !gap-y-0 pt-[40vh] sm:pt-[45vh] md:pt-[50vh]">
        <AnimateIn className="text-paragraph--large">The way we work is changing faster than ever before.</AnimateIn>
        <AnimateIn className="text-paragraph--large">In some industries the change may be more subtle.</AnimateIn>
        <AnimateIn className="text-paragraph--large">But for software, it&apos;s a rollercoaster of change.</AnimateIn>
        <AnimateIn className="text-paragraph--large">It&apos;s still the same old game, but the rules are different.</AnimateIn>
        <AnimateIn className="text-paragraph--large">So we&apos;re throwing the rulebook out the window.</AnimateIn>
        <AnimateIn className="text-paragraph--large">Working is a new toolbox for product builders.</AnimateIn>
        <AnimateIn className="text-paragraph--large">Full of flexible tools to build and test the best quality software.</AnimateIn>
        <AnimateIn className="text-paragraph--large">
          It&apos;s not a{" "}
          <InlineIcon
            paths={
              <path d="M14.5 1C12.6004 1 10.8231 1.68742 9.40072 2.75224C8.95859 3.08321 8.86849 3.70993 9.19946 4.15206C9.53043 4.59418 10.1572 4.68429 10.5993 4.35332C11.721 3.51359 13.0859 3 14.5 3C16.9002 3 18.4942 4.07267 19.5163 5.41758C20.5689 6.80253 21 8.46405 21 9.5C21 10.8272 20.6694 11.8001 20.3556 12.4278C20.1978 12.7433 20.0432 12.9737 19.9344 13.1187C19.88 13.1912 19.8374 13.242 19.8119 13.2712C19.7991 13.2857 19.7907 13.2948 19.7873 13.2985L19.7864 13.2994C19.5428 13.5476 19.4454 13.9047 19.5299 14.2425L20.5 14C19.5299 14.2425 19.5301 14.2435 19.5302 14.2439L19.5306 14.2454L19.5315 14.249L19.5339 14.2583L19.5412 14.2857C19.5472 14.3077 19.5555 14.337 19.5661 14.3727C19.5874 14.4441 19.6185 14.542 19.6607 14.659C19.7443 14.8913 19.8747 15.2086 20.0633 15.5481C20.1395 15.6852 20.2289 15.8326 20.3328 15.9832C19.8788 16.0597 19.5235 16.4439 19.5011 16.9225C19.4752 17.4741 19.9015 17.9423 20.4532 17.9682C20.8803 17.9882 21.3736 17.9028 21.7791 17.8026C22.193 17.7003 22.6268 17.5546 22.9472 17.3944C23.309 17.2135 23.5262 16.8326 23.4975 16.4291C23.4688 16.0257 23.1999 15.6792 22.8162 15.5513C22.4142 15.4173 22.0746 15.0502 21.8117 14.5769C21.737 14.4425 21.6752 14.3113 21.6255 14.1937C21.7811 13.9739 21.9638 13.6834 22.1444 13.3222C22.5806 12.4499 23 11.1728 23 9.5C23 8.03595 22.4311 5.94747 21.1087 4.20742C19.7558 2.42733 17.5998 1 14.5 1ZM1.33391 14.5C1.33391 9.80558 5.13949 6 9.83392 6C14.5283 6 18.3339 9.80558 18.3339 14.5C18.3339 19.1944 14.5283 23 9.83392 23C8.71005 23 7.63518 22.7814 6.65108 22.3837C5.8509 22.7784 4.95024 23 3.99994 23C2.90877 23 1.88281 22.7078 0.999287 22.1967C0.690288 22.018 0.5 21.6881 0.5 21.3311C0.5 20.9741 0.690288 20.6442 0.999287 20.4655C1.65147 20.0882 2.18717 19.5322 2.53941 18.8657C1.77402 17.5892 1.33391 16.0948 1.33391 14.5ZM7.40002 14.5C7.40002 15.3284 6.72845 16 5.90002 16C5.0716 16 4.40002 15.3284 4.40002 14.5C4.40002 13.6716 5.0716 13 5.90002 13C6.72845 13 7.40002 13.6716 7.40002 14.5ZM9.90002 16C10.7285 16 11.4 15.3284 11.4 14.5C11.4 13.6716 10.7285 13 9.90002 13C9.0716 13 8.40002 13.6716 8.40002 14.5C8.40002 15.3284 9.0716 16 9.90002 16ZM13.9 16C14.7285 16 15.4 15.3284 15.4 14.5C15.4 13.6716 14.7285 13 13.9 13C13.0716 13 12.4 13.6716 12.4 14.5C12.4 15.3284 13.0716 16 13.9 16Z" />
            }
          >
            bot
          </InlineIcon>
          ,{" "}
          <InlineIcon
            paths={
              <path d="M10.9899 1.85858C10.9196 1.36593 10.4977 1 10 1C9.50235 1 9.08043 1.36593 9.01005 1.85858L8.85858 2.91888L9.12659 2.95717L8.85858 2.91888C8.4186 5.99873 5.99873 8.4186 2.91888 8.85858L1.85858 9.01005C1.36593 9.08043 1 9.50235 1 10C1 10.4977 1.36593 10.9196 1.85858 10.9899L2.91889 11.1414C5.99873 11.5814 8.4186 14.0013 8.85858 17.0811L9.01005 18.1414C9.08043 18.6341 9.50235 19 10 19C10.4977 19 10.9196 18.6341 10.9899 18.1414L11.1414 17.0811C11.5814 14.0013 14.0013 11.5814 17.0811 11.1414L18.1414 10.9899C18.6341 10.9196 19 10.4977 19 10C19 9.50235 18.6341 9.08043 18.1414 9.01005L17.0811 8.85858C14.0013 8.4186 11.5814 5.99873 11.1414 2.91888L10.9899 1.85858ZM19.7398 14.3767C19.6795 14.0151 19.3666 13.75 19 13.75C18.6334 13.75 18.3205 14.0151 18.2602 14.3767L18.1125 15.263C17.9544 16.2113 17.2113 16.9544 16.263 17.1125L15.3767 17.2602C15.0151 17.3205 14.75 17.6334 14.75 18C14.75 18.3666 15.0151 18.6795 15.3767 18.7398L16.263 18.8875C17.2113 19.0456 17.9544 19.7887 18.1125 20.737L18.2602 21.6233C18.3205 21.9849 18.6334 22.25 19 22.25C19.3666 22.25 19.6795 21.9849 19.7398 21.6233L19.8875 20.737C20.0456 19.7887 20.7887 19.0456 21.737 18.8875L22.6233 18.7398C22.9849 18.6795 23.25 18.3666 23.25 18C23.25 17.6334 22.9849 17.3205 22.6233 17.2602L21.737 17.1125C20.7887 16.9544 20.0456 16.2113 19.8875 15.263L19.7398 14.3767Z" />
            }
          >
            prompt
          </InlineIcon>
          , <InlineIcon paths={<path d="M20.8977 4.02356L21.8277 4.39121C22.3784 2.99813 21.0382 1.60206 19.6238 2.09546L3.47334 7.72936C1.38661 8.45728 1.49021 11.443 3.6224 12.0245L10.1289 13.799L11.2331 19.8724C11.638 22.0991 14.7072 22.4019 15.5393 20.2972L21.8277 4.39121L20.8977 4.02356Z" />}>cursor</InlineIcon>,
          or{" "}
          <InlineIcon
            paths={
              <path d="M9.73675 0.859666C9.66937 0.505926 9.3601 0.25 9 0.25C8.6399 0.25 8.33062 0.505926 8.26325 0.859666L8.09161 1.76074C7.91215 2.70293 7.15514 3.42778 6.20604 3.56619L4.89177 3.75785C4.52326 3.81159 4.25 4.12759 4.25 4.5C4.25 4.87241 4.52326 5.18841 4.89177 5.24215L6.20604 5.43381C7.15514 5.57222 7.91215 6.29707 8.09161 7.23926L8.26325 8.14033C8.33063 8.49407 8.6399 8.75 9 8.75C9.3601 8.75 9.66937 8.49407 9.73675 8.14033L9.90839 7.23926C10.0879 6.29707 10.8449 5.57222 11.794 5.43381L13.1082 5.24215C13.4767 5.18841 13.75 4.87241 13.75 4.5C13.75 4.12759 13.4767 3.81159 13.1082 3.75785L11.794 3.56619C10.8449 3.42778 10.0879 2.70293 9.90839 1.76074L9.73675 0.859666ZM19.7374 4.67678C19.054 3.99336 17.946 3.99336 17.2626 4.67678L3.67678 18.2626C2.99336 18.946 2.99336 20.054 3.67678 20.7374L5.26256 22.3232C5.94598 23.0066 7.05402 23.0066 7.73744 22.3232L21.3232 8.73744C22.0066 8.05402 22.0066 6.94598 21.3232 6.26256L19.7374 4.67678ZM20.9932 13.9178C20.953 13.6767 20.7444 13.5 20.5 13.5C20.2556 13.5 20.047 13.6767 20.0068 13.9178L20.0019 13.947C19.8263 15.0006 19.0006 15.8263 17.947 16.0019L17.9178 16.0068C17.6767 16.047 17.5 16.2556 17.5 16.5C17.5 16.7444 17.6767 16.953 17.9178 16.9932L17.947 16.9981C19.0006 17.1737 19.8263 17.9994 20.0019 19.053L20.0068 19.0822C20.047 19.3233 20.2556 19.5 20.5 19.5C20.7444 19.5 20.953 19.3233 20.9932 19.0822L20.9981 19.053C21.1737 17.9994 21.9994 17.1737 23.053 16.9981L23.0822 16.9932C23.3233 16.953 23.5 16.7444 23.5 16.5C23.5 16.2556 23.3233 16.047 23.0822 16.0068L23.053 16.0019C21.9994 15.8263 21.1737 15.0006 20.9981 13.947L20.9932 13.9178ZM6 10.5C6 11.3284 5.32843 12 4.5 12C3.67157 12 3 11.3284 3 10.5C3 9.67157 3.67157 9 4.5 9C5.32843 9 6 9.67157 6 10.5ZM17.2071 7.79289C16.8166 7.40237 16.1834 7.40237 15.7929 7.79289C15.4024 8.18342 15.4024 8.81658 15.7929 9.20711L16.7929 10.2071C17.1834 10.5976 17.8166 10.5976 18.2071 10.2071C18.5976 9.81658 18.5976 9.18342 18.2071 8.79289L17.2071 7.79289Z" />
            }
          >
            magic
          </InlineIcon>
          .
        </AnimateIn>
        <AnimateIn className="text-paragraph--large">It&apos;s working.dev</AnimateIn>
      </AppContainer>

      <AppContainer>
        <div className={cn("mx-auto flex w-full flex-col rounded-[28px] bg-muted/70 md:max-w-2xl md:rounded-[40px]", "gap-y-8 p-8 sm:gap-y-8 sm:p-14 sm:pt-13 md:p-20 md:pt-19")}>
          <h3 className="text-paragraph--large leading-none">Get updates.</h3>
          <Suspense fallback={<MailingListFormSkeleteon />}>
            <MailingListFrom />
            <MailingSuccessModal />
          </Suspense>
        </div>
      </AppContainer>

      <AppContainer className="flex flex-row gap-x-24" asChild>
        <footer>
          <Mark className="size-10" />
        </footer>
      </AppContainer>
    </AppLayout>
  );
}
